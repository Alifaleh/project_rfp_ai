<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">
        <!-- Record Rules for Portal Users -->

        <!-- RFP Project: Users can only see their own projects -->
            <record id="rfp_project_portal_rule" model="ir.rule"> <field name="name">RFP Project: Portal users see only their own</field>
            <field name="model_id" ref="model_rfp_project"/>
            <field name="groups" eval="[(4, ref('base.group_portal'))]"/>
            <field name="domain_force">[('user_id', '=', user.id)]</field>
        </record>

        <!-- RFP Form Input: Users can only see inputs of their own projects -->
        <record id="rfp_form_input_portal_rule" model="ir.rule">
            <field name="name">RFP Form Input: Portal users see only their own</field>
            <field name="model_id" ref="model_rfp_form_input"/>
            <field name="groups" eval="[(4, ref('base.group_portal'))]"/>
            <field name="domain_force">[('project_id.user_id', '=', user.id)]</field>
        </record>

        <!-- RFP Document Section: Users can only see sections of their own projects -->
        <record id="rfp_document_section_portal_rule" model="ir.rule">
            <field name="name">RFP Document Section: Portal users see only their own</field>
            <field name="model_id" ref="model_rfp_document_section"/>
            <field name="groups" eval="[(4, ref('base.group_portal'))]"/>
            <field name="domain_force">[('project_id.user_id', '=', user.id)]</field>
        </record>
    </data>
</odoo>
